var wCalendar=function(){var a,b="3b78e7",c='<div unselectable="on" onselectstart="return false;" class="wCalendar_box_c"><div class="wCalendar_box_layer"></div><div class="wCalendar_box"><div class="start_box"><div class="cal_description">Start Date and Time</div><div class="cal_month"><span class="turn_left">&lt;</span><span class="show_mnth"></span><span class="turn_rigt">&gt;</span></div><div class="cal_calendar"><div class="cal_week"><span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span></div><div class="cal_date"></div></div><div class="cal_progress"><div class="cal_sub_pro"><div class="cal_pro_point"></div></div></div></div><div class="end_box"><div class="cal_description">End Date and Time</div><div class="cal_month"><span class="turn_left">&lt;</span><span class="show_mnth"></span><span class="turn_rigt">&gt;</span></div><div class="cal_calendar"><div class="cal_week"><span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span></div><div class="cal_date"></div></div><div class="cal_progress"><div class="cal_sub_pro"><div class="cal_pro_point"></div></div></div></div><div class="cal_buttons"><input class="cal_button" type="button" value="Cancel"><input class="cal_button" type="button" value="Confirm"></div><div class="arrow top"><div class="arrow_bg"></div></div><div class="arrow bottom"></div><div class="folding">to</div></div></div>',d=function(){a='.wCalendar_box_c{top:0;left:0;z-index:9998;position:absolute;display:none;}.wCalendar_box_c *{cursor:default;}.wCalendar_box_layer{top:0;left:0;z-index:1;width:100%;height:100%;position:fixed;background:rgba(0,0,0,0.3);}.wCalendar_box{color:#9e9e9e;font-family:"Arial";width:497px;height:324px;border:1px solid #d2d9de;background:#fff;position:absolute;border-bottom:none;border-radius:4px;z-index:2;box-sizing:content-box;}.wCalendar_box .arrow{width:0;height:0;left:25%;margin-left:-8px;position:absolute;border-style:solid;display:none;}.wCalendar_box .arrow .arrow_bg{width:0;height:0;position:absolute;border-style:solid;}.wCalendar_box .arrow.top{top:-16px;border-width:0 13px 16px 13px;border-color:transparent transparent #d2d9de transparent;}.wCalendar_box .arrow.top .arrow_bg{ top:1px;left:-11px;border-width:0px 11px 15px 11px;border-color:transparent transparent #fff transparent;}.wCalendar_box .arrow.bottom{bottom:-16px;border-width:16px 13px 0 13px;border-color:#'+b+" transparent transparent transparent;}.wCalendar_box .folding{top:164px;left:50%;margin-left:-17px;width:32px;height:32px;color:#"+b+";font-size:15px;font-weight:bold;position:absolute;border-radius:32px;line-height:32px;text-align:center;border:1px solid #d2d9de;background:#fff;}.wCalendar_box .start_box{top:0;left:0;width:248px;height:100%;position:absolute;}.wCalendar_box .end_box{top:0;right:0;width:248px;height:100%;position:absolute;border-left:1px solid #d2d9de;box-sizing:content-box;}.wCalendar_box .cal_description{height:42px;color:#"+b+';font-size:14px;line-height:44px;text-align:center;}.wCalendar_box .cal_month{height:32px;color:#3e3e3e;font-size:14px;background:#f1f1f1;text-align:center;line-height:32px;position:relative;}.wCalendar_box .cal_month .turn_left,.wCalendar_box .cal_month .turn_rigt{width:54px;font-size:18px;cursor:pointer;font-family:"Sim Hei";font-weight:bold;transition:all .4s;-moz-transition:all .4s;-webkit-transition:all .4s;-o-transition:all .4s;}.wCalendar_box .cal_month .turn_left:hover,.wCalendar_box .cal_month .turn_rigt:hover{color:#'+b+";background:rgba(0,0,0,.1);}.wCalendar_box .cal_month .turn_left{left:0;text-align:left;padding-left:18px;position:absolute;}.wCalendar_box .cal_month .turn_rigt{right:0;text-align:right;padding-right:18px;position:absolute;}.wCalendar_box .cal_calendar{}.wCalendar_box .cal_calendar .cal_week,.wCalendar_box .cal_calendar .cal_date{width:196px;margin-left:auto;margin-right:auto;}.wCalendar_box .cal_calendar span{width:22px;height:22px;margin:3px 3px 0 3px;line-height:22px;font-size:12px;text-align:center;display:inline-block;}.wCalendar_box .cal_calendar .cal_week{margin-top:12px;}.wCalendar_box .cal_calendar .cal_week span{color:#"+b+";}.wCalendar_box .cal_calendar .cal_date{height:160px;}.wCalendar_box .cal_calendar .cal_date span{border-radius:2px;}.wCalendar_box .cal_calendar .cal_date span.disabled{color:#bdbdbd;cursor:default;}.wCalendar_box .cal_calendar .cal_date span.enabled{color:#000;cursor:pointer;}.wCalendar_box .cal_calendar .cal_date span.enabled:hover{color:#fff;background:#"+b+";}.wCalendar_box .cal_calendar .cal_date span.current{color:#fff;background:#"+b+";cursor:default;}.wCalendar_box .cal_progress{width:196px;height:1px;background:#d2d9de;margin:2px auto 0 auto;}.wCalendar_box .cal_progress .cal_sub_pro{width:0%;height:100%;background:#"+b+";position:relative;}.wCalendar_box .cal_progress .cal_sub_pro .cal_pro_point{width:9px;height:9px;top:-4px;right:-5px;background:#"+b+';border-radius:10px;position:absolute;}.wCalendar_box div.cal_buttons{left:0;bottom:0;width:100%;height:36px;position:absolute;overflow:hidden;border-radius:0 0 4px 4px;}.wCalendar_box .cal_buttons input.cal_button{width:248px;height:100%;color:#fff;font-size:14px;font-family:"Arial";cursor:pointer;border:none;background:#'+b+";top:0;left:0;margin:0;transition:color 300ms,background 300ms;-moz-transition:color 300ms,background 300ms;-webkit-transition:color 300ms,background 300ms;-o-transition:color 300ms,background 300ms;}.wCalendar_box .cal_buttons input.cal_button:hover{color:#"+b+";background:#e0e0e0;}.wCalendar_box .cal_buttons input.cal_button:focus{outline:0;}.wCalendar_box .cal_buttons input:first-child{float:left;}.wCalendar_box .cal_buttons input:last-child{float:right;}"},e=function(){jQuery("style#wCalendarStyle").length<1&&jQuery("body").append(jQuery('<style type="text/css" id="wCalendarStyle">'+a+"</style>"))},f=function(a,b){var d,f,g,h,i,j,k=function(a){var b,c,e,g,h,k=0,l=0;1===a&&(e=i.startDate,pageMonth=j.startMonth,g=f.find(".start_box .cal_date"),h=f.find(".start_box .show_mnth")),2===a&&(e=i.endDate,pageMonth=j.endMonth,g=f.find(".end_box .cal_date"),h=f.find(".end_box .show_mnth")),b=pageMonth.getFullYear(),c=pageMonth.getMonth(),k=new Date(b,c+1,0).getDate(),l=new Date(b,c,1).getDay(),h.html(b+"."+(c+1)),g.empty();for(var m=0;l>m;m++)g.append("<span>&nbsp;</span>");for(var n=1;k>=n;n++){var o="",p=new Date(b,c,n);1===d&&(p-e===0?o="current":(1===a&&(o="enabled"),2===a&&(o=p-i.startDate>=0?"enabled":"disabled"))),2===d&&(p-e===0?o="current":(1===a&&(o=1===new Date(b,c,n).getDay()?"enabled":"disabled"),2===a&&(o=p-i.startDate>0&&1===new Date(b,c,n).getDay()?"enabled":"disabled"))),3===d&&(p-e===0?o="current":(1===a&&(o=1===n?"enabled":"disabled"),2===a&&(1===n?p-i.startDate>0&&(o="enabled"):o="disabled"))),g.append(jQuery('<span class="'+o+'">'+n+"</span>"))}},l=function(){var a=new Date(i.startDate.getFullYear(),i.startDate.getMonth()+1,0).getDate(),b=new Date(i.endDate.getFullYear(),i.endDate.getMonth()+1,0).getDate(),c=i.startDate.getDate()/a*100,d=i.endDate.getDate()/b*100;f.find(".start_box .cal_progress .cal_sub_pro").css("width",c+"%"),f.find(".end_box .cal_progress .cal_sub_pro").css("width",d+"%")},m=function(){f.find(".cal_calendar .cal_date span").unbind(),f.find(".start_box .cal_date span.enabled").click(function(){var a=j.startMonth,b=new Date(a.getFullYear(),a.getMonth(),parseInt(jQuery(this).html())),c=new Date(i.endDate.getTime());1===d&&b>i.endDate&&(c=new Date(b.getTime())),2===d&&i.endDate-b<6048e5&&(c=new Date(b.getTime()+6048e5)),3===d&&i.endDate.getMonth()-b.getMonth()<1&&(c=new Date(b.getFullYear(),b.getMonth()+1,1)),i.startDate=new Date(b.getTime()),i.endDate=new Date(c.getTime()),j.endMonth=new Date(c.getTime()),o()}),f.find(".end_box .cal_date span.enabled").click(function(){var a=j.endMonth,b=new Date(a.getFullYear(),a.getMonth(),parseInt(jQuery(this).html()));i.endDate=new Date(b.getTime()),j.endMonth=new Date(b.getTime()),o()})},n=function(){var a=new Date,b=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime();e(),h={startDate:new Date(b),endDate:new Date(b)},i={startDate:new Date(b),endDate:new Date(b)},j={startMonth:new Date(b),endMonth:new Date(b)},f=jQuery(c).appendTo("body"),g=g||0,d=1},o=function(){k(1),k(2),l(),m()},p=function(){h.startDate.setTime(i.startDate.getTime()),h.endDate.setTime(i.endDate.getTime())},q=function(){var b,c,d=a.offset().left,e=a.offset().top,k=(a.width(),a.height());i.startDate.setTime(h.startDate.getTime()),i.endDate.setTime(h.endDate.getTime()),j.startMonth.setTime(h.startDate.getTime()),j.endMonth.setTime(h.endDate.getTime()),f.find(".arrow").hide(),c=d,jQuery(window).height()>2*g?(b=e+k+20,f.find(".arrow.top").show()):(b=e-346,f.find(".arrow.bottom").show()),f.find(".wCalendar_box").css({top:b+"px",left:c+"px"}),f.fadeIn(200)},r=function(){f.fadeOut(300)},s=function(){b&&b(new Date(h.startDate.getTime()),new Date(h.endDate.getTime()+86399e3))},t=function(){a.click(function(a){g=a.clientY||a.originalEvent.y,q(a),o()}),f.find(".start_box .cal_month .turn_left").click(function(){return j.startMonth.setMonth(j.startMonth.getMonth()-1),o(),!1}),f.find(".start_box .cal_month .turn_rigt").click(function(){return j.startMonth.setMonth(j.startMonth.getMonth()+1),o(),!1}),f.find(".end_box .cal_month .turn_left").click(function(){return j.endMonth.setMonth(j.endMonth.getMonth()-1),o(),!1}),f.find(".end_box .cal_month .turn_rigt").click(function(){return j.endMonth.setMonth(j.endMonth.getMonth()+1),o(),!1}),f.find(".cal_buttons input.cal_button:first-child, .wCalendar_box_layer").click(function(){return r(),!1}),f.find(".cal_buttons input.cal_button:last-child").click(function(){return p(),s(),r(),!1}),f.click(function(){return!1})},u=function(){return q(),o(),this},v=function(){return r(),this},w=function(){return f.find(".wCalendar_box").css("width","248px"),f.find(".end_box").css("display","none"),f.find(".folding").css("display","none"),f.find(".cal_buttons input.cal_button").css("width","123.5px"),this},x=function(){return f.find(".wCalendar_box").css("width","497px"),f.find(".end_box").css("display","block"),f.find(".folding").css("display","block"),f.find(".cal_buttons input.cal_button").css("width","248px"),this},y=function(){var a,b,c,e,f=arguments.length;if(2===f)a=arguments[0],b=arguments[1],c=new Date(a),e=new Date(b),c.setHours(0),c.setMinutes(0),c.setSeconds(0),e.setHours(0),e.setMinutes(0),e.setSeconds(0),a=c.getTime(),b=e.getTime();else{if(6!==f)return!1;c=new Date(arguments[0],arguments[1]-1,arguments[2]),e=new Date(arguments[3],arguments[4]-1,arguments[5]),a=c.getTime(),b=e.getTime()}for(var g=0;g<arguments.length;g++){var k=parseInt(arguments[g]);if(k!==k)return!1}if(1===d){if(0>b-a)return!1}else if(2===d){if(1!=new Date(a).getDay()||1!=new Date(b).getDay())return!1;if(1>b-a)return!1}else{if(3!==d)return!1;if(1!=new Date(a).getDate()||1!=new Date(b).getDate())return!1;if(1>b-a)return!1}return h.startDate.setTime(a),h.endDate.setTime(b),i.startDate.setTime(a),i.endDate.setTime(b),j.startMonth.setTime(a),j.endMonth.setTime(b),o(),s(),this},z=function(a){var b=h.startDate,c=h.endDate;return"number"==typeof a?{startTime:b.getTime(),endTime:c.getTime()+86399e3}:"string"==typeof a?{startTime:""+b.getFullYear()+a+(b.getMonth()<9?"0":"")+(b.getMonth()+1)+a+(b.getDate()<10?"0":"")+b.getDate(),endTime:""+c.getFullYear()+a+(c.getMonth()<9?"0":"")+(c.getMonth()+1)+a+(c.getDate()<10?"0":"")+c.getDate()}:{startTime:new Date(b.getTime()),endTime:new Date(c.getTime()+86399e3)}},A=function(a){var b,c=new Date,e=c.getFullYear(),f=c.getMonth(),g=c.getDate(),k=new Date(e,f,g).getTime();if(1===a||2===a||3===a){if(d=a,1===d&&(h={startDate:new Date(k),endDate:new Date(k)},i={startDate:new Date(k),endDate:new Date(k)},j={startMonth:new Date(k),endMonth:new Date(k)}),2===d){for(var l=1;7>=l;l++)if(1===new Date(e,f,l).getDay()){b=l;break}h={startDate:new Date(e,f,b),endDate:new Date(e,f,b+7)},i={startDate:new Date(e,f,b),endDate:new Date(e,f,b+7)},j={startMonth:new Date(e,f,b),endMonth:new Date(e,f,b+7)}}return 3===d&&(h={startDate:new Date(e,f,1),endDate:new Date(e,f+1,1)},i={startDate:new Date(e,f,1),endDate:new Date(e,f+1,1)},j={startMonth:new Date(e,f,1),endMonth:new Date(e,f+1,1)}),o(),this}return!1},B=function(a,b){return a=a||"",a=a.replace(/(^\s+)|(\s+$)/g,""),b=b||"",b=b.replace(/(^\s+)|(\s+$)/g,""),""!==a&&f.find(".start_box .cal_description").text(a),""!==b&&f.find(".end_box .cal_description").text(b),this};return n(),o(),p(),t(),{show:u,hide:v,single:w,"double":x,setTime:y,getTime:z,setMode:A,setTitle:B}},g=function(c){var e,f=new RegExp("^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{3}$");return f.test(c)!==!0?!1:(b=c,d(),e=jQuery('style[id="wCalendarStyle"]'),1===e.length&&e.html(a),this)};return d(),{init:f,setColor:g}}();