var wCalendar=function(){var t,e="3b78e7",a=function(){t='.wCalendar_box_c{top:0;left:0;z-index:9998;position:absolute;display:none;}.wCalendar_box_c *{cursor:default;}.wCalendar_box_layer{top:0;left:0;z-index:1;width:100%;height:100%;position:fixed;background:rgba(0,0,0,0.3);}.wCalendar_box{color:#9e9e9e;font-family:"Arial";width:497px;height:324px;border:1px solid #d2d9de;background:#fff;position:absolute;border-bottom:none;border-radius:4px;z-index:2;box-sizing:content-box;}.wCalendar_box .arrow{width:0;height:0;left:25%;margin-left:-8px;position:absolute;border-style:solid;display:none;}.wCalendar_box .arrow .arrow_bg{width:0;height:0;position:absolute;border-style:solid;}.wCalendar_box .arrow.top{top:-16px;border-width:0 13px 16px 13px;border-color:transparent transparent #d2d9de transparent;}.wCalendar_box .arrow.top .arrow_bg{ top:1px;left:-11px;border-width:0px 11px 15px 11px;border-color:transparent transparent #fff transparent;}.wCalendar_box .arrow.bottom{bottom:-16px;border-width:16px 13px 0 13px;border-color:#'+e+" transparent transparent transparent;}.wCalendar_box .folding{top:164px;left:50%;margin-left:-17px;width:32px;height:32px;color:#"+e+";font-size:15px;font-weight:bold;position:absolute;border-radius:32px;line-height:32px;text-align:center;border:1px solid #d2d9de;background:#fff;}.wCalendar_box .start_box{top:0;left:0;width:248px;height:100%;position:absolute;}.wCalendar_box .end_box{top:0;right:0;width:248px;height:100%;position:absolute;border-left:1px solid #d2d9de;box-sizing:content-box;}.wCalendar_box .cal_description{height:42px;color:#"+e+';font-size:14px;line-height:44px;text-align:center;}.wCalendar_box .cal_month{height:32px;color:#3e3e3e;font-size:14px;background:#f1f1f1;text-align:center;line-height:32px;position:relative;}.wCalendar_box .cal_month .turn_left,.wCalendar_box .cal_month .turn_rigt{width:54px;font-size:18px;cursor:pointer;font-family:"Sim Hei";font-weight:bold;transition:all .4s;-moz-transition:all .4s;-webkit-transition:all .4s;-o-transition:all .4s;}.wCalendar_box .cal_month .turn_left:hover,.wCalendar_box .cal_month .turn_rigt:hover{color:#'+e+";background:rgba(0,0,0,.1);}.wCalendar_box .cal_month .turn_left{left:0;text-align:left;padding-left:18px;position:absolute;}.wCalendar_box .cal_month .turn_rigt{right:0;text-align:right;padding-right:18px;position:absolute;}.wCalendar_box .cal_calendar{}.wCalendar_box .cal_calendar .cal_week,.wCalendar_box .cal_calendar .cal_date{width:196px;margin-left:auto;margin-right:auto;}.wCalendar_box .cal_calendar span{width:22px;height:22px;margin:3px 3px 0 3px;line-height:22px;font-size:12px;text-align:center;display:inline-block;}.wCalendar_box .cal_calendar .cal_week{margin-top:12px;}.wCalendar_box .cal_calendar .cal_week span{color:#"+e+";}.wCalendar_box .cal_calendar .cal_date{height:160px;}.wCalendar_box .cal_calendar .cal_date span{border-radius:2px;}.wCalendar_box .cal_calendar .cal_date span.disabled{color:#bdbdbd;cursor:default;}.wCalendar_box .cal_calendar .cal_date span.enabled{color:#000;cursor:pointer;}.wCalendar_box .cal_calendar .cal_date span.enabled:hover{color:#fff;background:#"+e+";}.wCalendar_box .cal_calendar .cal_date span.current{color:#fff;background:#"+e+";cursor:default;}.wCalendar_box .cal_progress{width:196px;height:1px;background:#d2d9de;margin:2px auto 0 auto;}.wCalendar_box .cal_progress .cal_sub_pro{width:0%;height:100%;background:#"+e+";position:relative;}.wCalendar_box .cal_progress .cal_sub_pro .cal_pro_point{width:9px;height:9px;top:-4px;right:-5px;background:#"+e+';border-radius:10px;position:absolute;}.wCalendar_box div.cal_buttons{left:0;bottom:0;width:100%;height:36px;position:absolute;overflow:hidden;border-radius:0 0 4px 4px;}.wCalendar_box .cal_buttons input.cal_button{width:248px;height:100%;color:#fff;font-size:14px;font-family:"Arial";cursor:pointer;border:none;background:#'+e+";top:0;left:0;margin:0;transition:color 300ms,background 300ms;-moz-transition:color 300ms,background 300ms;-webkit-transition:color 300ms,background 300ms;-o-transition:color 300ms,background 300ms;}.wCalendar_box .cal_buttons input.cal_button:hover{color:#"+e+";background:#e0e0e0;}.wCalendar_box .cal_buttons input.cal_button:focus{outline:0;}.wCalendar_box .cal_buttons input:first-child{float:left;}.wCalendar_box .cal_buttons input:last-child{float:right;}"},n=function(){jQuery("style#wCalendarStyle").length<1&&jQuery("body").append(jQuery('<style type="text/css" id="wCalendarStyle">'+t+"</style>"))},o=function(t,e){var a,o,r,i,s,l,d=function(t){var e,n,r,i,d,c=0,p=0;1===t&&(r=s.startDate,pageMonth=l.startMonth,i=o.find(".start_box .cal_date"),d=o.find(".start_box .show_mnth")),2===t&&(r=s.endDate,pageMonth=l.endMonth,i=o.find(".end_box .cal_date"),d=o.find(".end_box .show_mnth")),e=pageMonth.getFullYear(),n=pageMonth.getMonth(),c=new Date(e,n+1,0).getDate(),p=new Date(e,n,1).getDay(),d.html(e+"."+(n+1)),i.empty();for(var u=0;u<p;u++)i.append("<span>&nbsp;</span>");for(var _=1;_<=c;_++){var b="",h=new Date(e,n,_);1===a&&(h-r==0?b="current":(1===t&&(b="enabled"),2===t&&(b=h-s.startDate>=0?"enabled":"disabled"))),2===a&&(h-r==0?b="current":(1===t&&(b=1===new Date(e,n,_).getDay()?"enabled":"disabled"),2===t&&(b=h-s.startDate>0&&1===new Date(e,n,_).getDay()?"enabled":"disabled"))),3===a&&(h-r==0?b="current":(1===t&&(b=1===_?"enabled":"disabled"),2===t&&(1===_?h-s.startDate>0&&(b="enabled"):b="disabled"))),i.append(jQuery('<span class="'+b+'">'+_+"</span>"))}},c=function(){var t=new Date(s.startDate.getFullYear(),s.startDate.getMonth()+1,0).getDate(),e=new Date(s.endDate.getFullYear(),s.endDate.getMonth()+1,0).getDate(),a=s.startDate.getDate()/t*100,n=s.endDate.getDate()/e*100;o.find(".start_box .cal_progress .cal_sub_pro").css("width",a+"%"),o.find(".end_box .cal_progress .cal_sub_pro").css("width",n+"%")},p=function(){o.find(".cal_calendar .cal_date span").unbind(),o.find(".start_box .cal_date span.enabled").click(function(){var t=l.startMonth,e=new Date(t.getFullYear(),t.getMonth(),parseInt(jQuery(this).html())),n=new Date(s.endDate.getTime());1===a&&e>s.endDate&&(n=new Date(e.getTime())),2===a&&s.endDate-e<6048e5&&(n=new Date(e.getTime()+6048e5)),3===a&&s.endDate.getMonth()-e.getMonth()<1&&(n=new Date(e.getFullYear(),e.getMonth()+1,1)),s.startDate=new Date(e.getTime()),s.endDate=new Date(n.getTime()),l.endMonth=new Date(n.getTime()),u()}),o.find(".end_box .cal_date span.enabled").click(function(){var t=l.endMonth,e=new Date(t.getFullYear(),t.getMonth(),parseInt(jQuery(this).html()));s.endDate=new Date(e.getTime()),l.endMonth=new Date(e.getTime()),u()})},u=function(){d(1),d(2),c(),p()},_=function(){i.startDate.setTime(s.startDate.getTime()),i.endDate.setTime(s.endDate.getTime())},b=function(){var e,a,n=t.offset().left,d=t.offset().top,c=(t.width(),t.height());s.startDate.setTime(i.startDate.getTime()),s.endDate.setTime(i.endDate.getTime()),l.startMonth.setTime(i.startDate.getTime()),l.endMonth.setTime(i.endDate.getTime()),o.find(".arrow").hide(),a=n,jQuery(window).height()>2*r?(e=d+c+20,o.find(".arrow.top").show()):(e=d-346,o.find(".arrow.bottom").show()),o.find(".wCalendar_box").css({top:e+"px",left:a+"px"}),o.fadeIn(200)},h=function(){o.fadeOut(300)},g=function(){e&&e(new Date(i.startDate.getTime()),new Date(i.endDate.getTime()+86399e3))},w=function(){return b(),u(),this},f=function(){return h(),this},x=function(){return o.find(".wCalendar_box").css("width","248px"),o.find(".end_box").css("display","none"),o.find(".folding").css("display","none"),o.find(".cal_buttons input.cal_button").css("width","123.5px"),this},D=function(){return o.find(".wCalendar_box").css("width","497px"),o.find(".end_box").css("display","block"),o.find(".folding").css("display","block"),o.find(".cal_buttons input.cal_button").css("width","248px"),this},m=function(){var t,e,n,o,r=arguments.length;if(2===r)t=arguments[0],e=arguments[1],n=new Date(t),o=new Date(e),n.setHours(0),n.setMinutes(0),n.setSeconds(0),o.setHours(0),o.setMinutes(0),o.setSeconds(0),t=n.getTime(),e=o.getTime();else{if(6!==r)return!1;n=new Date(arguments[0],arguments[1]-1,arguments[2]),o=new Date(arguments[3],arguments[4]-1,arguments[5]),t=n.getTime(),e=o.getTime()}for(var d=0;d<arguments.length;d++){var c=parseInt(arguments[d]);if(c!==c)return!1}if(1===a){if(e-t<0)return!1}else if(2===a){if(1!=new Date(t).getDay()||1!=new Date(e).getDay())return!1;if(e-t<1)return!1}else{if(3!==a)return!1;if(1!=new Date(t).getDate()||1!=new Date(e).getDate())return!1;if(e-t<1)return!1}return i.startDate.setTime(t),i.endDate.setTime(e),s.startDate.setTime(t),s.endDate.setTime(e),l.startMonth.setTime(t),l.endMonth.setTime(e),u(),g(),this},v=function(t){var e=i.startDate,a=i.endDate;return"number"==typeof t?{startTime:e.getTime(),endTime:a.getTime()+86399e3}:"string"==typeof t?{startTime:""+e.getFullYear()+t+(e.getMonth()<9?"0":"")+(e.getMonth()+1)+t+(e.getDate()<10?"0":"")+e.getDate(),endTime:""+a.getFullYear()+t+(a.getMonth()<9?"0":"")+(a.getMonth()+1)+t+(a.getDate()<10?"0":"")+a.getDate()}:{startTime:new Date(e.getTime()),endTime:new Date(a.getTime()+86399e3)}},M=function(t){var e,n=new Date,o=n.getFullYear(),r=n.getMonth(),d=n.getDate(),c=new Date(o,r,d).getTime();if(1===t||2===t||3===t){if(a=t,1===a&&(i={startDate:new Date(c),endDate:new Date(c)},s={startDate:new Date(c),endDate:new Date(c)},l={startMonth:new Date(c),endMonth:new Date(c)}),2===a){for(var p=1;p<=7;p++)if(1===new Date(o,r,p).getDay()){e=p;break}i={startDate:new Date(o,r,e),endDate:new Date(o,r,e+7)},s={startDate:new Date(o,r,e),endDate:new Date(o,r,e+7)},l={startMonth:new Date(o,r,e),endMonth:new Date(o,r,e+7)}}return 3===a&&(i={startDate:new Date(o,r,1),endDate:new Date(o,r+1,1)},s={startDate:new Date(o,r,1),endDate:new Date(o,r+1,1)},l={startMonth:new Date(o,r,1),endMonth:new Date(o,r+1,1)}),u(),this}return!1},C=function(t,e){return t=t||"",t=t.replace(/(^\s+)|(\s+$)/g,""),e=e||"",e=e.replace(/(^\s+)|(\s+$)/g,""),""!==t&&o.find(".start_box .cal_description").text(t),""!==e&&o.find(".end_box .cal_description").text(e),this};return function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();n(),i={startDate:new Date(e),endDate:new Date(e)},s={startDate:new Date(e),endDate:new Date(e)},l={startMonth:new Date(e),endMonth:new Date(e)},o=jQuery('<div unselectable="on" onselectstart="return false;" class="wCalendar_box_c"><div class="wCalendar_box_layer"></div><div class="wCalendar_box"><div class="start_box"><div class="cal_description">Start Date and Time</div><div class="cal_month"><span class="turn_left">&lt;</span><span class="show_mnth"></span><span class="turn_rigt">&gt;</span></div><div class="cal_calendar"><div class="cal_week"><span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span></div><div class="cal_date"></div></div><div class="cal_progress"><div class="cal_sub_pro"><div class="cal_pro_point"></div></div></div></div><div class="end_box"><div class="cal_description">End Date and Time</div><div class="cal_month"><span class="turn_left">&lt;</span><span class="show_mnth"></span><span class="turn_rigt">&gt;</span></div><div class="cal_calendar"><div class="cal_week"><span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span></div><div class="cal_date"></div></div><div class="cal_progress"><div class="cal_sub_pro"><div class="cal_pro_point"></div></div></div></div><div class="cal_buttons"><input class="cal_button" type="button" value="Cancel"><input class="cal_button" type="button" value="Confirm"></div><div class="arrow top"><div class="arrow_bg"></div></div><div class="arrow bottom"></div><div class="folding">to</div></div></div>').appendTo("body"),r=r||0,a=1}(),u(),_(),function(){t.click(function(t){r=t.clientY||t.originalEvent.y,b(),u()}),o.find(".start_box .cal_month .turn_left").click(function(){return l.startMonth.setMonth(l.startMonth.getMonth()-1,1),u(),!1}),o.find(".start_box .cal_month .turn_rigt").click(function(){return l.startMonth.setMonth(l.startMonth.getMonth()+1,1),u(),!1}),o.find(".end_box .cal_month .turn_left").click(function(){return l.endMonth.setMonth(l.endMonth.getMonth()-1,1),u(),!1}),o.find(".end_box .cal_month .turn_rigt").click(function(){return l.endMonth.setMonth(l.endMonth.getMonth()+1,1),u(),!1}),o.find(".cal_buttons input.cal_button:first-child, .wCalendar_box_layer").click(function(){return h(),!1}),o.find(".cal_buttons input.cal_button:last-child").click(function(){return _(),g(),h(),!1}),o.click(function(){return!1})}(),{show:w,hide:f,single:x,double:D,setTime:m,getTime:v,setMode:M,setTitle:C}},r=function(n){var o;return new RegExp("^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{3}$").test(n)===!0&&(e=n,a(),o=jQuery('style[id="wCalendarStyle"]'),1===o.length&&o.html(t),this)};return a(),{init:o,setColor:r}}();